{% extends "data_collection/templates/base.html" %}

{% block content %}
<h2 class="text-primary">Admin Dashboard</h2>

<!-- Form to create a new user -->
<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <label for="id_username" class="form-label">Username</label>
        {{ form.username }}
    </div>
    <div class="mb-3">
        <label for="id_email" class="form-label">Email</label>
        {{ form.email }}
    </div>
    <div class="mb-3">
        <label for="id_password1" class="form-label">Password</label>
        {{ form.password1 }}
    </div>
    <div class="mb-3">
        <label for="id_password2" class="form-label">Confirm Password</label>
        {{ form.password2 }}
    </div>
    <div class="mb-3">
        <label for="id_full_name" class="form-label">Full Name</label>
        {{ form.full_name }}
    </div>
    <div class="mb-3">
        <label for="id_address" class="form-label">Address</label>
        {{ form.address }}
    </div>
    <div class="mb-3">
        <label for="id_phone_number" class="form-label">Phone Number</label>
        {{ form.phone_number }}
    </div>
    <button type="submit" class="btn btn-success">Create User</button>
</form>

<hr>

<!-- List of users -->
<h3>Users</h3>
<table class="table">
    <thead>
        <tr>
            <th>Username</th>
            <th>Email</th>
            <th>Full Name</th>
            <th>Phone Number</th>
            <th>Is Staff</th>
            <th>Is Superuser</th>
        </tr>
    </thead>
    <tbody>
        {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.profile.full_name }}</td>
            <td>{{ user.profile.phone_number }}</td>
            <td>{{ user.is_staff|yesno:"Yes,No" }}</td>
            <td>{{ user.is_superuser|yesno:"Yes,No" }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}